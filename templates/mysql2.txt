// system file, please don't modify it

import env from "#core/env"
import * as logger from "#core/logger"
import * as util from "#core/util"
import * as orm from "@ghom/orm"

const client = new orm.ORM({
  tableLocation: util.srcPath("tables"),
  backups: {
    location: util.rootPath("data", "backups"),
  },
  database: {
    client: "mysql2",
    useNullAsDefault: true,
    connection: {
      port: env.DB_PORT ?? 3306,
      host: env.DB_HOST ?? "127.0.0.1",
      user: env.DB_USER ?? "root",
      password: env.DB_PASSWORD,
      database: env.DB_DATABASE ?? "database",
      timezone: env.BOT_TIMEZONE || "UTC",
    },
  },
  logger,
})

export default client

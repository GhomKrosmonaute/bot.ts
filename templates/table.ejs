import { Table } from "@ghom/orm"

export interface <%= Name %> {
<%= Object.entries(columns).map(([name, type]) => {
  return `  ${name}: ${type},`
}).join("\n") %>
}

/**
 * See the {@link https://ghom.gitbook.io/bot.ts/usage/use-database database guide} for more information.
 */
export default new Table<<%= Name %>>({
  name: "<%= name %>",
  description: "<%= description %>",<% if(priority !== undefined) {
  %> priority: <%= priority %>,<% } %>
  setup: (table) => {
    // setup table columns => https://knexjs.org/guide/schema-builder.html
<%= Object.entries(columns).map(([name, type]) => {
  return `    table.${type}("${name}").notNullable()`
}).join("\n") %>
  },
})